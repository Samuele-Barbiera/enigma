(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[483],{4524:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/RegistrationLocal",function(){return c(2749)}])},8418:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function e(a,b){return(function(a){if(Array.isArray(a))return a})(a)||(function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}})(a,b)||f(a,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function f(a,b){if(a){if("string"==typeof a)return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}}b.default=void 0;var g,h=(g=c(7294))&&g.__esModule?g:{default:g},i=c(6273),j=c(387),k=c(7190),l={};function m(a,b,c,d){if(a&&i.isLocalURL(b)){a.prefetch(b,c,d).catch(function(a){});var e=d&& void 0!==d.locale?d.locale:a&&a.locale;l[b+"%"+c+(e?"%"+e:"")]=!0}}b.default=function(a){var b,c=!1!==a.prefetch,d=j.useRouter(),f=h.default.useMemo(function(){var b=e(i.resolveHref(d,a.href,!0),2),c=b[0],f=b[1];return{href:c,as:a.as?i.resolveHref(d,a.as):f||c}},[d,a.href,a.as]),g=f.href,n=f.as,o=a.children,p=a.replace,q=a.shallow,r=a.scroll,s=a.locale;"string"==typeof o&&(o=h.default.createElement("a",null,o));var t=(b=h.default.Children.only(o))&&"object"==typeof b&&b.ref,u=e(k.useIntersection({rootMargin:"200px"}),2),v=u[0],w=u[1],x=h.default.useCallback(function(a){v(a),t&&("function"==typeof t?t(a):"object"==typeof t&&(t.current=a))},[t,v]);h.default.useEffect(function(){var a=w&&c&&i.isLocalURL(g),b=void 0!==s?s:d&&d.locale,e=l[g+"%"+n+(b?"%"+b:"")];a&&!e&&m(d,g,n,{locale:b})},[n,g,w,s,c,d]);var y={ref:x,onClick:function(a){var c,e,f,h,j,k,l,m,o,t;b.props&&"function"==typeof b.props.onClick&&b.props.onClick(a),a.defaultPrevented||(c=a,e=d,f=g,h=n,j=p,k=q,l=r,m=s,"A"===c.currentTarget.nodeName.toUpperCase()&&((t=(o=c).currentTarget.target)&&"_self"!==t||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey||o.nativeEvent&&2===o.nativeEvent.which||!i.isLocalURL(f))||(c.preventDefault(),e[j?"replace":"push"](f,h,{shallow:k,locale:m,scroll:l})))}};if(y.onMouseEnter=function(a){b.props&&"function"==typeof b.props.onMouseEnter&&b.props.onMouseEnter(a),i.isLocalURL(g)&&m(d,g,n,{priority:!0})},a.passHref||"a"===b.type&&!("href"in b.props)){var z=void 0!==s?s:d&&d.locale,A=d&&d.isLocaleDomain&&i.getDomainLocale(n,z,d&&d.locales,d&&d.domainLocales);y.href=A||i.addBasePath(i.addLocale(n,z,d&&d.defaultLocale))}return h.default.cloneElement(b,y)}},2749:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return x},"default":function(){return y}});var d=c(5893),e=c(2980),f=c(8969),g=c(4051),h=c.n(g),i=c(8633),j=c(7294),k=c(155);const l=j.forwardRef(function(a,b){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:b},a),j.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))});var m=l;const n=j.forwardRef(function(a,b){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:b},a),j.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))});var o=n,p=c(1872),q=c(1664);function r(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}var s=/^[A-z][A-z0-9-_]{3,23}$/,t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/,u=/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/;function v(a){var b=a.providers,c=(0,j.useRef)(null),e=(0,j.useRef)(),f=(0,j.useState)(""),g=f[0],l=f[1],n=(0,j.useState)(!1),v=n[0],w=n[1],x=(0,j.useState)(!1),y=x[0],z=x[1],A=(0,j.useState)(""),B=A[0],C=A[1],D=(0,j.useState)(!1),E=D[0],F=D[1],G=(0,j.useState)(!1),H=G[0],I=G[1],J=(0,j.useState)(""),K=J[0],L=J[1],M=(0,j.useState)(!1),N=M[0],O=M[1],P=(0,j.useState)(!1),Q=P[0],R=P[1],S=(0,j.useState)(""),T=S[0],U=S[1],V=(0,j.useState)(!1),W=V[0],X=V[1],Y=(0,j.useState)(!1),Z=Y[0],$=Y[1],_=(0,j.useState)(""),aa=_[0],ba=_[1],ca=(0,j.useState)(!1),da=ca[0],ea=ca[1];(0,j.useEffect)(function(){c.current.focus()},[]),(0,j.useEffect)(function(){w(s.test(g))},[g]),(0,j.useEffect)(function(){X(u.test(T))},[T]),(0,j.useEffect)(function(){F(t.test(B)),O(B===K)},[B,K]),(0,j.useEffect)(function(){ba("")},[g,B,T,K]);var fa,ga,ha=(fa=h().mark(function a(b){var c,d,f,i,j,k;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.preventDefault(),c=s.test(g),d=t.test(B),f=u.test(T),!(!c||!d||!f)){a.next=7;break}return ba("Dati Invalidi"),a.abrupt("return");case 7:return i={username:g,email:T,password:B},console.log("🚀 - file: RegistrationForm.tsx - line 69 - handleSubmit - RegistrationInfo",i),a.next=11,fetch("".concat("http://localhost:1337","/api/auth/local/register"),{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":"*"},body:JSON.stringify(i)});case 11:return j=a.sent,a.next=14,j.json();case 14:(k=a.sent).jwt?(console.log("🚀 ~ file: RegistrationForm.tsx ~ line 81 ~ handleSubmit ~ loginResponse",k),console.log(k),ea(!0),l(""),C(""),L("")):(ba("No Server Response"),(null==k?void 0:k.error.status)===400?ba(null==k?void 0:k.error.message):ba("Registrazione fallita"),e.current.focus());case 16:case"end":return a.stop()}},a)}),ga=function(){var a=this,b=arguments;return new Promise(function(c,d){var e=fa.apply(a,b);function f(a){r(e,c,d,f,g,"next",a)}function g(a){r(e,c,d,f,g,"throw",a)}f(void 0)})},function(a){return ga.apply(this,arguments)});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"flex min-h-screen flex-col justify-center bg-beige-400 px-6 py-4 ",children:(0,d.jsx)("div",{className:"mt-8 mb-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,d.jsx)("div",{className:"rounded-2xl bg-beige-100 py-8 px-[1.9rem] shadow-lg sm:py-10",children:da?(0,d.jsx)("section",{className:"mx-2 transition duration-200 ease-in-out",children:(0,d.jsx)("div",{className:"rounded-xl bg-green-50 p-4 shadow-lg",children:(0,d.jsxs)("div",{className:"relative inline-block",children:[(0,d.jsx)(m,{className:"absolute -top-7 -left-7 block h-7 w-7 text-green-400","aria-hidden":"true"}),(0,d.jsxs)("div",{className:"my-3 ml-3",children:[(0,d.jsx)("h3",{className:"text-base font-medium text-green-800",children:"Registrazione effettuata con successo!"}),(0,d.jsxs)("div",{className:"mt-4 flex justify-between text-sm text-green-700",children:[(0,d.jsx)("p",{children:"Accedi al tuo account 👉 "}),(0,d.jsx)("div",{className:"-mx-2 -my-1.5 flex",children:(0,d.jsx)("a",{type:"button",href:"/Login",className:"rounded-lg bg-green-500 px-2 py-1.5 text-sm font-medium text-white shadow-md outline-none ring-2 ring-green-600 transition ease-in-out hover:bg-green-600",children:"Accedi"})})]})]})]})})}):(0,d.jsxs)("section",{children:[(0,d.jsx)("div",{ref:e,className:aa?"errmsg":"offscreen easy-in-out transition duration-300","aria-live":"assertive",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)(o,{className:"h-5 w-5 text-red-500","aria-hidden":"true"})}),(0,d.jsxs)("div",{className:"ml-3",children:[(0,d.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Registrazione fallita"}),(0,d.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,d.jsx)("ul",{role:"list",className:"list-disc space-y-1 pl-5",children:(0,d.jsx)("li",{children:aa})})})]})]})}),(0,d.jsx)("p",{className:"mb-1 text-center text-4xl font-normal text-beige-900",children:"Registrati"}),(0,d.jsxs)("form",{onSubmit:ha,className:"flex flex-col",children:[(0,d.jsxs)("label",{htmlFor:"email",className:"mb-2 flex flex-auto justify-between",children:["Email",(0,d.jsx)(p.sez,{className:W?"valid":"hidden"}),(0,d.jsx)(k.IOM,{className:W||!T?"hidden":"invalid"})]}),(0,d.jsx)("input",{type:"email",id:"email",onChange:function(a){return U(a.target.value)},value:T,placeholder:"Inserisci una email valida 🔎",required:!0,"aria-invalid":W?"false":"true","aria-describedby":"emailnote",onFocus:function(){return $(!0)},onBlur:function(){return $(!1)}}),(0,d.jsxs)("p",{id:"emailnote",className:Z?"instructions":"offscreen",children:[(0,d.jsx)(k.q4Y,{className:"h-5 w-5"}),"Questa sar\xe0 la stessa email con cui ti contatteremo dopo i tuoi acquisti per tenerti aggiornato!"]}),(0,d.jsxs)("label",{htmlFor:"Nome",className:"mb-2 flex flex-auto justify-between",children:["Nome",(0,d.jsx)(p.sez,{className:v?"valid":"hidden"}),(0,d.jsx)(k.IOM,{className:v||!g?"hidden":"invalid"})]}),(0,d.jsx)("input",{type:"text",id:"Nome",ref:c,autoComplete:"off",placeholder:"Da 4 a 24, [a-z, A-Z, 0-9] 📝",onChange:function(a){return l(a.target.value)},value:g,required:!0,"aria-invalid":v?"false":"true","aria-describedby":"uidnote",onFocus:function(){return z(!0)},onBlur:function(){return z(!1)}}),(0,d.jsxs)("label",{htmlFor:"password",className:"mb-2 flex flex-auto justify-between",children:["Password",(0,d.jsx)(p.sez,{className:E?"valid":"hidden"}),(0,d.jsx)(k.IOM,{className:E||!B?"hidden":"invalid"})]}),(0,d.jsx)("input",{type:"password",id:"password",onChange:function(a){return C(a.target.value)},value:B,placeholder:"Da 8 a 24, [a-z, A-Z, 0-9, !@%$] 🔐",required:!0,"aria-invalid":E?"false":"true","aria-describedby":"pwdnote",onFocus:function(){return I(!0)},onBlur:function(){return I(!1)}}),(0,d.jsxs)("label",{htmlFor:"confirm_pwd",className:"mb-2 flex flex-auto justify-between",children:["Password di conferma",(0,d.jsx)(p.sez,{className:N&&K?"valid":"hidden"}),(0,d.jsx)(k.IOM,{className:N||!K?"hidden":"invalid"})]}),(0,d.jsx)("input",{type:"password",id:"confirm_pwd",onChange:function(a){return L(a.target.value)},value:K,placeholder:"Uguale alla password inserita ☝️",required:!0,"aria-invalid":N?"false":"true","aria-describedby":"confirmnote",onFocus:function(){return R(!0)},onBlur:function(){return R(!1)}}),(0,d.jsx)("button",{className:" text-medium easy-in-out mt-12 inline-flex w-full justify-center rounded-lg bg-beige-500 py-2 px-4 font-medium text-beige-50 shadow-lg transition duration-200 hover:bg-beige-600",disabled:!v||!E||!W||!N,children:"Registrati"})]}),(0,d.jsxs)("p",{className:"mx-1 mt-4 flex flex-row justify-between",children:["Ti sei gi\xe0 registrato?",(0,d.jsx)("br",{}),(0,d.jsx)("span",{className:"line ",children:(0,d.jsx)(q.default,{href:"/Login",children:"Accedi"})})]}),(0,d.jsxs)("div",{className:"mt-4",children:[(0,d.jsxs)("div",{className:"relative mx-2 py-1",children:[(0,d.jsx)("div",{className:"absolute inset-0 flex items-center border-beige-700",children:(0,d.jsx)("div",{className:"w-full border-t border-beige-700"})}),(0,d.jsx)("div",{className:"text-medium relative flex justify-center",children:(0,d.jsx)("span",{className:"bg-beige-100 px-2 text-beige-900",children:"Oppure continua con"})})]}),(0,d.jsx)("div",{className:"mt-5 grid grid-cols-2 gap-2",children:b&&Object.values(b).map(function(a){return(0,d.jsx)("div",{children:"Google"==a.name?(0,d.jsx)("button",{className:"text-medium easy-in-out inline-flex w-full justify-center rounded-lg bg-beige-500 py-2 px-4 font-medium text-beige-50 shadow-lg transition duration-200 hover:bg-beige-600",onClick:function(){(0,i.zB)(a.id)},children:(0,d.jsx)("svg",{className:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:(0,d.jsx)("path",{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})})})}):"Facebook"==a.name?(0,d.jsx)("button",{className:"text-medium easy-in-out inline-flex w-full justify-center rounded-lg bg-beige-500 py-2 px-4 font-medium text-beige-50 shadow-lg transition duration-200 hover:bg-beige-600",onClick:function(){(0,i.zB)(a.id)},children:(0,d.jsx)("svg",{className:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:(0,d.jsx)("path",{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"})})})}):void 0},a.name)})})]})]})})})})})}var w=c(9008),x=!0;function y(a){var b=a.providers;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(w.default,{children:[(0,d.jsx)("title",{children:"Registration"}),(0,d.jsx)("link",{rel:"icon",href:"/question-solid.svg"})]}),(0,d.jsx)(f.Z,{}),(0,d.jsx)(v,{providers:b}),(0,d.jsx)(e.Z,{})]})}},1664:function(a,b,c){a.exports=c(8418)}},function(a){a.O(0,[228,445,937,617,90,260,994,879,980,774,888,179],function(){return a(a.s=4524)}),_N_E=a.O()}])