(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[723],{825:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/RegistrationProviders",function(){return c(4085)}])},8418:function(a,b,c){"use strict";function d(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function e(a,b){return(function(a){if(Array.isArray(a))return a})(a)||(function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}})(a,b)||f(a,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function f(a,b){if(a){if("string"==typeof a)return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}}b.default=void 0;var g,h=(g=c(7294))&&g.__esModule?g:{default:g},i=c(6273),j=c(387),k=c(7190),l={};function m(a,b,c,d){if(a&&i.isLocalURL(b)){a.prefetch(b,c,d).catch(function(a){});var e=d&& void 0!==d.locale?d.locale:a&&a.locale;l[b+"%"+c+(e?"%"+e:"")]=!0}}b.default=function(a){var b,c=!1!==a.prefetch,d=j.useRouter(),f=h.default.useMemo(function(){var b=e(i.resolveHref(d,a.href,!0),2),c=b[0],f=b[1];return{href:c,as:a.as?i.resolveHref(d,a.as):f||c}},[d,a.href,a.as]),g=f.href,n=f.as,o=a.children,p=a.replace,q=a.shallow,r=a.scroll,s=a.locale;"string"==typeof o&&(o=h.default.createElement("a",null,o));var t=(b=h.default.Children.only(o))&&"object"==typeof b&&b.ref,u=e(k.useIntersection({rootMargin:"200px"}),2),v=u[0],w=u[1],x=h.default.useCallback(function(a){v(a),t&&("function"==typeof t?t(a):"object"==typeof t&&(t.current=a))},[t,v]);h.default.useEffect(function(){var a=w&&c&&i.isLocalURL(g),b=void 0!==s?s:d&&d.locale,e=l[g+"%"+n+(b?"%"+b:"")];a&&!e&&m(d,g,n,{locale:b})},[n,g,w,s,c,d]);var y={ref:x,onClick:function(a){var c,e,f,h,j,k,l,m,o,t;b.props&&"function"==typeof b.props.onClick&&b.props.onClick(a),a.defaultPrevented||(c=a,e=d,f=g,h=n,j=p,k=q,l=r,m=s,"A"===c.currentTarget.nodeName.toUpperCase()&&((t=(o=c).currentTarget.target)&&"_self"!==t||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey||o.nativeEvent&&2===o.nativeEvent.which||!i.isLocalURL(f))||(c.preventDefault(),e[j?"replace":"push"](f,h,{shallow:k,locale:m,scroll:l})))}};if(y.onMouseEnter=function(a){b.props&&"function"==typeof b.props.onMouseEnter&&b.props.onMouseEnter(a),i.isLocalURL(g)&&m(d,g,n,{priority:!0})},a.passHref||"a"===b.type&&!("href"in b.props)){var z=void 0!==s?s:d&&d.locale,A=d&&d.isLocaleDomain&&i.getDomainLocale(n,z,d&&d.locales,d&&d.domainLocales);y.href=A||i.addBasePath(i.addLocale(n,z,d&&d.defaultLocale))}return h.default.cloneElement(b,y)}},4085:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return s},"default":function(){return t}});var d=c(5893),e=c(2980),f=c(8969),g=c(4051),h=c.n(g),i=c(9669),j=c.n(i),k=c(7294),l=c(155),m=c(1872),n=c(1664);function o(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}var p=/^[A-z][A-z0-9-_]{3,23}$/;function q(){var a=(0,k.useRef)(null),b=(0,k.useRef)(null),c=(0,k.useState)(""),e=c[0],f=c[1],g=(0,k.useState)(!1),i=g[0],q=g[1],r=(0,k.useState)(!1),s=r[0],t=r[1],u=(0,k.useState)(""),v=u[0],w=u[1],x=(0,k.useState)(!1),y=x[0],z=x[1];(0,k.useEffect)(function(){a.current.focus()},[]),(0,k.useEffect)(function(){q(p.test(e))},[e]),(0,k.useEffect)(function(){w("")},[e]);var A,B,C=(A=h().mark(function a(c){var d,g,i,k;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),d=p.test(e)){a.next=5;break}return w("Dato Invalido"),a.abrupt("return");case 5:return a.prev=5,a.next=8,j().post("http://localhost:1337/auth/local/register",JSON.stringify({Nome:e}),{headers:{"Content-Type":"application/json"},withCredentials:!0});case 8:g=a.sent,console.log(null==g?void 0:g.data),console.log(null==g?void 0:g.data.jwt),console.log(JSON.stringify(g)),z(!0),f(""),a.next=21;break;case 16:a.prev=16,a.t0=a.catch(5),(i=!a.t0).response?w("Server non raggiungibile"):(null===(k=a.t0.response)|| void 0===k?void 0:k.status)===400?w("Email gi\xe0 esistente"):w("Registrazione fallita"),b.current.focus();case 21:case"end":return a.stop()}},a,null,[[5,16]])}),B=function(){var a=this,b=arguments;return new Promise(function(c,d){var e=A.apply(a,b);function f(a){o(e,c,d,f,g,"next",a)}function g(a){o(e,c,d,f,g,"throw",a)}f(void 0)})},function(a){return B.apply(this,arguments)});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"flex min-h-screen flex-col justify-center bg-beige-400 px-6 py-6",children:(0,d.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,d.jsx)("div",{className:"rounded-2xl bg-beige-100 py-8 px-[1.9rem] shadow-lg sm:py-10",children:y?(0,d.jsxs)("section",{children:[(0,d.jsx)("h1",{children:"Registrazione effettuata con successo!"}),(0,d.jsx)("p",{children:(0,d.jsx)("a",{href:"#",children:"Accedi"})})]}):(0,d.jsxs)("section",{children:[(0,d.jsx)("p",{ref:b,className:v?"errmsg":"offscreen easy-in-out transition duration-300","aria-live":"assertive",children:v}),(0,d.jsx)("p",{className:"mb-3 text-center text-2xl font-normal text-beige-900",children:"Maca poco . . ."}),(0,d.jsxs)("form",{onSubmit:C,className:"flex flex-col",children:[(0,d.jsxs)("label",{htmlFor:"Nome",className:"mb-2 flex flex-auto justify-between",children:["Nome",(0,d.jsx)(m.sez,{className:i?"valid":"hidden"}),(0,d.jsx)(l.IOM,{className:i||!e?"hidden":"invalid"})]}),(0,d.jsx)("input",{type:"text",id:"Nome",ref:a,autoComplete:"off",placeholder:"Da 4 a 24, [a-z, A-Z, 0-9] 📝",onChange:function(a){return f(a.target.value)},value:e,required:!0,"aria-invalid":i?"false":"true","aria-describedby":"uidnote",onFocus:function(){return t(!0)},onBlur:function(){return t(!1)}}),(0,d.jsx)("button",{className:" text-medium easy-in-out mt-12 inline-flex w-full justify-center rounded-lg bg-beige-500 py-2 px-4 font-medium text-beige-50 shadow-lg transition duration-200 hover:bg-beige-600",disabled:!i,children:"Registrati"})]}),(0,d.jsxs)("p",{className:"mx-1 mt-4 flex flex-row justify-between",children:["Ti sei gi\xe0 registrato?",(0,d.jsx)("br",{}),(0,d.jsx)("span",{className:"line ",children:(0,d.jsx)(n.default,{href:"/Login",children:"Accedi"})})]})]})})})})})}var r=c(9008),s=!0;function t(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(r.default,{children:[(0,d.jsx)("title",{children:"Registration"}),(0,d.jsx)("link",{rel:"icon",href:"/question-solid.svg"})]}),(0,d.jsx)(f.Z,{}),(0,d.jsx)(q,{}),(0,d.jsx)(e.Z,{})]})}},1664:function(a,b,c){a.exports=c(8418)}},function(a){a.O(0,[228,445,937,617,90,260,994,879,669,980,774,888,179],function(){return a(a.s=825)}),_N_E=a.O()}])